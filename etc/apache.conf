#
# @file :mode=apacheconf:deepIndent=false:noTabs=true:tabSize=4:indentSize=4:
# @brief Example Imperium Apache Configuration
# @author edoceo
# @version $Id$
#
# @see http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule
#

#
# This example configuration can be added to existing apache with:
#
# Include "/opt/edoceo/app/imperium/approot/etc/apache.conf"
#

Alias "/imperium" "/opt/edoceo/app/imperium/webroot"
<Directory "/opt/edoceo/app/imperium/webroot">
    AllowOverride None
    DefaultType text/html
    Options -ExecCGI +FollowSymLinks -Includes -Indexes 

    Order allow,deny
    Allow from all

    RewriteEngine On
    # RewriteBase /imperium
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule .* /index.php [l,qsa]

    # SSLRequireSSL
    # SSLRequire %{SSL_CLIENT_S_DN_O}  eq "Edoceo, Inc." and %{SSL_CLIENT_S_DN_OU} in {"Internet Engineering"}
    # SSLVerifyClient require
    # SSLVerifyDepth  0

    # HTTP Auth
    # AuthLDAPURL "ldap://ldap.edoceo.com/"
    # Require valid-user

    # Define some PHP Vars Here
    php_flag define_syslog_variables on
    php_flag display_errors on
    php_flag display_startup_errors on
    php_flag error_log on
    php_flag ignore_repeated_errors on
    php_flag ignore_repeated_source on
    php_flag implicit_flush off
    php_flag log_errors on
    php_flag magic_quotes_runtime off
    php_flag session.auto_start off
    php_flag session.bug_compat_42 off
    php_flag session.bug_compat_warn off
    php_flag session.cookie_secure on

    php_value post_max_size 48M
    php_value session.cookie_domain imperium.edoceo.com
    php_value session.cookie_httponly on
    php_value session.cookie_lifetime 0
    # php_value session.cookie_path /imperium
    php_value upload_max_filesize 32M

    SetEnv IMPERIUM_CONFG custom

</Directory>

